# üèóÔ∏è –û–±—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

    –ü—Ä–æ–µ–∫—Ç –ø–æ—Å—Ç—Ä–æ–µ–Ω –Ω–∞ Node.js + Express + TypeScript –∏ —Å–ª–µ–¥—É–µ—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ MVC (Model-View-Controller) c –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ —Å–ª–æ—è–º–∏ middleware –∏ —É—Ç–∏–ª–∏—Ç.

# üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π

    –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
    src/ - –æ—Å–Ω–æ–≤–Ω–æ–π –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥
    dataBase/ - –ª–æ–∫–∞–ª—å–Ω–∞—è MongoDB –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
    uploads/ - —Ñ–∞–π–ª—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
    scripts/ - —Ç–µ—Å—Ç–æ–≤—ã–µ –∏ —Å–ª—É–∂–µ–±–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã
    node_modules/ - –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

src/
‚îú‚îÄ‚îÄ index.ts # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ config/ # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îÇ ‚îú‚îÄ‚îÄ db.ts # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ MongoDB
‚îÇ ‚îî‚îÄ‚îÄ websocketConfig.ts # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ WebSocket
‚îú‚îÄ‚îÄ models/ # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö (Mongoose)
‚îÇ ‚îú‚îÄ‚îÄ User.ts # –ú–æ–¥–µ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
‚îÇ ‚îú‚îÄ‚îÄ Chat.ts # –ú–æ–¥–µ–ª—å —á–∞—Ç–∞ –∏ —Å–æ–æ–±—â–µ–Ω–∏–π
‚îÇ ‚îú‚îÄ‚îÄ Document.ts # –ú–æ–¥–µ–ª—å –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
‚îÇ ‚îî‚îÄ‚îÄ Reminder.ts # –ú–æ–¥–µ–ª—å –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π
‚îú‚îÄ‚îÄ controllers/ # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ ‚îú‚îÄ‚îÄ usersController.ts
‚îÇ ‚îú‚îÄ‚îÄ chatController.ts
‚îÇ ‚îú‚îÄ‚îÄ documentController.ts
‚îÇ ‚îú‚îÄ‚îÄ websocketController.ts # WebSocket —Å–µ—Ä–≤–µ—Ä
‚îÇ ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ routes/ # API –º–∞—Ä—à—Ä—É—Ç—ã
‚îÇ ‚îú‚îÄ‚îÄ usersRoutes.ts
‚îÇ ‚îú‚îÄ‚îÄ chatRoutes.ts
‚îÇ ‚îú‚îÄ‚îÄ documentRoutes.ts
‚îÇ ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ middleware/ # –ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ–µ –ü–û
‚îÇ ‚îú‚îÄ‚îÄ userMiddleware.ts # –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è/–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
‚îÇ ‚îú‚îÄ‚îÄ uploadMiddleware.ts # –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤
‚îÇ ‚îî‚îÄ‚îÄ asyncHandler.ts # –û–±—Ä–∞–±–æ—Ç–∫–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ—à–∏–±–æ–∫
‚îú‚îÄ‚îÄ types/ # TypeScript —Ç–∏–ø—ã
‚îú‚îÄ‚îÄ utils/ # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

# üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

MongoDB + Mongoose ODM:
User - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (–∏–º—è, email, –ø–∞—Ä–æ–ª—å, –ø—Ä–æ—Ñ–∏–ª—å)
Chat - —á–∞—Ç—ã —Å —Å—Å—ã–ª–∫–∞–º–∏ –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è
Message - –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è —á–∞—Ç–∞
Document - –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏
Reminder - –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

# üîß –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

    Backend Stack:
    Node.js + Express - –≤–µ–±-—Å–µ—Ä–≤–µ—Ä
    TypeScript - —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π JavaScript
    MongoDB + Mongoose - –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
    WebSocket (ws) - —Ä–µ–∞–ª—Ç–∞–π–º –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è
    JWT - –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
    bcrypt - —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π

    AI/ML –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:
    OpenAI API - GPT-4 –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∏ —á–∞—Ç–∞
    Tesseract.js - OCR –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ –∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
    pdf-parse - –ø–∞—Ä—Å–∏–Ω–≥ PDF —Ñ–∞–π–ª–æ–≤
    mammoth - —Ä–∞–±–æ—Ç–∞ —Å DOCX —Ñ–∞–π–ª–∞–º–∏

    –§–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞:
    multer - –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤
    fs - —Ä–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–æ–π

# üîÑ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã

1. REST API Architecture
   GET/POST/PUT/DELETE /api/users # –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
   GET/POST/PUT/DELETE /api/chats # –ß–∞—Ç—ã
   GET/POST/PUT/DELETE /api/documents # –î–æ–∫—É–º–µ–Ω—Ç—ã
2. WebSocket Real-time Communication
   // –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —á–∞—Ç–æ–≤
   interface WebSocketMessage {
   type: "message" | "subscribe_chat" | "create_chat"
   data: { message?, chatId?, token? }
   }

3. Middleware Pipeline
   // –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è ‚Üí –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è ‚Üí –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä
   authenticate ‚Üí isOwnerOrAdmin ‚Üí controller

4. File Processing Pipeline
   Upload ‚Üí Extract Text ‚Üí AI Analysis ‚Üí Save to DB
   (PDF/DOCX/Images ‚Üí OCR/Parse ‚Üí OpenAI ‚Üí MongoDB)

# ‚ö° –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

1. Multi-Chat WebSocket Server
   –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∞–∫—Ç–∏–≤–Ω—ã—Ö —á–∞—Ç–æ–≤ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   Rate limiting –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è–º–∏
   –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
   Broadcast —Å–æ–æ–±—â–µ–Ω–∏–π –º–µ–∂–¥—É —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏
2. Document Intelligence
   –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –∏–∑ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤
   AI-–∞–Ω–∞–ª–∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ —Å –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ–º –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö
   OCR –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
   –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
3. Authentication & Security
   JWT —Ç–æ–∫–µ–Ω—ã —Å —Ä–æ–ª–µ–≤–æ–π –º–æ–¥–µ–ª—å—é (user/admin)
   Bcrypt —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π
   CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
   Middleware –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
4. File Management
   –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤
   –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ —Ç–∏–ø–∞–º

# üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

    Scripts (package.json):

    {
        "server": "nodemon src/index.ts",    # –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞
        "build": "tsc",                      # –°–±–æ—Ä–∫–∞
        "start": "node dist/index.js",       # –ü—Ä–æ–¥–∞–∫—à–Ω
        "db": "mongod --dbpath=./dataBase",  # –õ–æ–∫–∞–ª—å–Ω–∞—è –ë–î
        "dev": "concurrently server + db"    # –ü–æ–ª–Ω—ã–π —Å—Ç–µ–∫
    }

# Environment Configuration:

    –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è API –∫–ª—é—á–µ–π
    –ù–∞—Å—Ç—Ä–æ–π–∫–∏ WebSocket –ª–∏–º–∏—Ç–æ–≤
    –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

# üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

    –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:

    WebSocket —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (/api/websocket/stats)
    –°–∫—Ä–∏–ø—Ç—ã –Ω–∞–≥—Ä—É–∑–æ—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
    –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
